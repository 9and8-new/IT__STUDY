!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="81ecc4e7-080e-4762-9921-34049dc87c3f",e._sentryDebugIdIdentifier="sentry-dbid-81ecc4e7-080e-4762-9921-34049dc87c3f")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1642],{79476:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-order/mileage",function(){return r(7560)}])},74209:function(e,t,r){"use strict";r.d(t,{N:function(){return g}});var n=r(67115),i=r(30722),o=r(36761),l=r(20356),s=r(45916),c=r(67227),a=r(36264),d=r(43477),x=r(93994);let p={"29cm_nav_cart":"off","29cm_nav_search":"off"},g=e=>{let{className:t,query:r={}}=e,i=(0,a.useRouter)(),{navigate:o}=(0,s.zH)(),{data:c}=(0,x.e)(),{showIdentityVerificationBottomSheet:g}=(0,d.Gp)(),f=()=>{o({pathname:"/integrate-mileage/agreement",query:{...i.query,...p,...r}})};return(0,n.jsxs)(m,{className:t,children:[(0,n.jsxs)(h,{children:[(0,n.jsxs)(l.xv,{typography:"text-l-bold",color:"primary",children:["무신사의 마일리지를 29CM에서",(0,n.jsx)("br",{}),"함께 적립하고 사용하세요"]}),(0,n.jsxs)(u,{onClick:()=>{if(null==c?void 0:c.isIdentityVerificationRequired){g({titleText:"마일리지 통합을 위해\n본인 인증이 필요합니다",closeText:"다음에 하기",needNotice:!1,onCertificationSuccess:()=>f()});return}f()},children:[(0,n.jsx)(l.xv,{typography:"text-s",color:"secondary",children:"통합 적립금 전환하기"}),(0,n.jsx)(y,{type:"chevronRight",size:12})]})]}),(0,n.jsx)(j,{})]})},m=(0,c.Z)("div",{target:"erl0xs90"})("display:flex;justify-content:space-between;background-color:",i.g.$semantic.color.fill.tertiary,";border-radius:",i.g.$scale.cornerRadius.cornerRadius25,";"),h=(0,c.Z)("div",{target:"erl0xs91"})("padding:11px 10px 11px 16px;"),u=(0,c.Z)(o.kC.CenterVertical,{target:"erl0xs92"})("cursor:pointer;margin-top:2px;"),j=(0,c.Z)("div",{target:"erl0xs93"})("flex-shrink:0;width:100px;"),y=(0,c.Z)(l.JO,{target:"erl0xs94"})("margin-left:2px;")},51199:function(e,t,r){"use strict";r.d(t,{r:function(){return c}});var n=r(67115),i=r(92490),o=r(38290),l=r(73857),s=r(82373);let c=e=>{let{children:t,href:r,webviewNavOptions:c={},passWebview:d,...x}=e,p=(0,s.od)(),{isWebview:g}=(0,i.uw)();if(!g)return(0,n.jsx)(o.rU,{href:r,...x,children:t});if(d&&"string"==typeof r){let e=r.includes("https://")?r:(0,l.e5)(p.workspace.product,r),i=[];void 0!==c.home&&i.push("29cm_nav_home=".concat(a(c.home))),void 0!==c.cart&&i.push("29cm_nav_cart=".concat(a(c.cart))),void 0!==c.search&&i.push("29cm_nav_search=".concat(a(c.search)));let s=i.length?"?".concat(i.join("&")):"",d=(0,l.e5)("app29cm://web/",encodeURIComponent((0,l.e5)(e,s)));return(0,n.jsx)(o.rU,{href:d,...x,children:t})}return(0,n.jsx)(o.rU,{href:r,...x,children:t})},a=e=>e?"on":"off"},63320:function(e,t,r){"use strict";r.d(t,{u:function(){return p}});var n,i,o=r(31791),l=r(67115),s=r(73857),c=r(12760),a=r(67227);function d(){let e=(0,o._)(["\n      display: none;\n    "]);return d=function(){return e},e}function x(){let e=(0,o._)(["\n      &:hover + "," {\n        display: block;\n      }\n    "]);return x=function(){return e},e}(n=i||(i={})).TOP="top",n.RIGHT="right",n.BOTTOM="bottom",n.LEFT="left";let p=e=>{let{className:t,show:r,showOnHover:n=!1,position:i="right",content:o,children:s,onTriggerClick:c}=e,a=r&&n;return(0,l.jsxs)(g,{children:[(0,l.jsx)(j,{showOnHover:a,onClick:c,children:s}),(0,l.jsx)(u,{className:t,isShow:r,position:i,showOnHover:a,children:o})]})},g=(0,a.Z)("div",{target:"e1ahgaq50"})("position:relative;"),m={top:(0,c.css)("bottom:-6px;left:50%;transform:translateX(-50%);border-top:7px solid ",s.O9.red,";border-right:5px solid transparent;border-left:5px solid transparent;"),right:(0,c.css)("top:50%;left:-6px;transform:translateY(-50%);border-top:5px solid transparent;border-right:7px solid ",s.O9.red,";border-bottom:5px solid transparent;"),bottom:(0,c.css)("top:-6px;left:50%;transform:translateX(-50%);border-right:5px solid transparent;border-bottom:7px solid ",s.O9.red,";border-left:5px solid transparent;"),left:(0,c.css)("top:50%;right:-6px;transform:translateY(-50%);border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:7px solid ",s.O9.red,";")},h={top:(0,c.css)("top:-12px;left:50%;transform:translate(-50%,-100%);"),right:(0,c.css)("top:50%;right:-12px;transform:translate(100%,-50%);"),bottom:(0,c.css)("bottom:-12px;left:50%;transform:translate(-50%,100%);"),left:(0,c.css)("top:50%;left:-12px;transform:translate(-100%,-50%);")},u=(0,a.Z)("div",{target:"e1ahgaq51"})("position:absolute;padding:6px 12px;font-size:12px;color:",e=>{let{theme:t}=e;return t.colors.white},";white-space:nowrap;opacity:",e=>{let{isShow:t}=e;return t?1:0},";background:",e=>{let{theme:t}=e;return t.colors.red},";border-radius:2px;transition:opacity 0.2s ease-in-out;",e=>{let{position:t}=e;return h[t]},"  &::after{content:'';position:absolute;",e=>{let{position:t}=e;return m[t]},"}",e=>{let{showOnHover:t}=e;return t&&(0,c.css)(d())}),j=(0,a.Z)("div",{target:"e1ahgaq52"})("line-height:0;",e=>{let{showOnHover:t}=e;return t&&(0,c.css)(x(),u)})},35474:function(e,t,r){"use strict";r.d(t,{d:function(){return n}});let n={CLICK_ITEM:"iglu:com.29cm/click_item/jsonschema/2-0-0",CLICK_ITEM_RECOMMEND:"iglu:com.29cm/click_item_recommend/jsonschema/1-0-0",IMPRESSION_ITEM:"iglu:com.29cm/impression_item/jsonschema/1-0-0",IMPRESSION_ITEM_RECOMMEND:"iglu:com.29cm/impression_item_recommend/jsonschema/1-0-0",IMPRESSION_CONTENT:"iglu:com.29cm/impression_content/jsonschema/1-0-0",VISIT_GIFT_RECEIVE:"iglu:com.29cm/visit_gift_receive/jsonschema/1-0-0",CLICK_BUTTON_GIFT_RECEIVE:"iglu:com.29cm/click_button_gift_receive/jsonschema/1-0-0",VISIT_GIFT_DETAIL:"iglu:com.29cm/visit_gift_detail/jsonschema/1-0-0",CLICK_BUTTON_GIFT_DETAIL:"iglu:com.29cm/click_button_gift_detail/jsonschema/1-0-0",CLICK_ITEM_GIFT_RECEIVE:"iglu:com.29cm/click_item_gift_receive/jsonschema/1-0-0",CLICK_CHECKBOX_CART:"iglu:com.29cm/click_checkbox_cart/jsonschema/1-0-0",VISIT_CART:"iglu:com.29cm/visit_cart/jsonschema/1-0-1",VISIT_CHECKOUT:"iglu:com.29cm/visit_checkout/jsonschema/1-0-1",PURCHASE_SUCCESS:"iglu:com.29cm/purchase_success/jsonschema/1-0-1",CLICK_CHECKOUT:"iglu:com.29cm/click_checkout/jsonschema/1-0-1",CLICK_BANNER:"iglu:com.29cm/click_banner/jsonschema/2-0-0",VIEW_BANNER:"iglu:com.29cm/view_banner/jsonschema/2-0-0",CLICK_BUTTON_CHECKOUT:"iglu:com.29cm/click_button_checkout/jsonschema/1-0-0",CLICK_INFO_CHECKOUT:"iglu:com.29cm/click_info_checkout/jsonschema/1-0-0",CLICK_CHECKOUT_APPLY:"iglu:com.29cm/click_checkout_apply/jsonschema/1-0-0",VISIT_ORDER_CONFIRMATION:"iglu:com.29cm/visit_order_confirmation/jsonschema/1-0-0",VISIT_COUPON:"iglu:com.29cm/visit_coupon/jsonschema/1-0-0",VISIT_CS_QNA_MANTOMAN_LIST:"iglu:com.29cm/visit_cs_qna_mantoman_list/jsonschema/1-0-0",VISIT_CS_QNA_MANTOMAN_WRITE:"iglu:com.29cm/visit_cs_qna_mantoman_write/jsonschema/1-0-0",VISIT_CS_VOC_WRITE:"iglu:com.29cm/visit_cs_voc_write/jsonschema/1-0-0",CLICK_BUTTON_CS_QNA_MANTOMAN_WRITE:"iglu:com.29cm/click_button_cs_qna_mantoman_write/jsonschema/1-0-0",CLICK_BUTTON_CS_QNA_MANTOMAN_LIST:"iglu:com.29cm/click_button_cs_qna_mantoman_list/jsonschema/1-0-0",HOME_RECOMMEND_CLICK_ITEM_RECOMMEND:"iglu:com.29cm/click_item_recommend/jsonschema/8-0-0",VIEW_DIALOG:"iglu:com.29cm/view_dialog/jsonschema/1-0-0",CLICK_BUTTON_DIALOG:"iglu:com.29cm/click_button_dialog/jsonschema/1-0-0",HOME_RECOMMEND_IMPRESSION_ITEM_RECOMMEND:"iglu:com.29cm/impression_item_recommend/jsonschema/8-0-0",CLICK_TOGGLE_CART:"iglu:com.29cm/click_toggle_cart/jsonschema/1-0-0",VIEW_BOTTOMSHEET:"iglu:com.29cm/view_bottomsheet/jsonschema/4-0-0",CLICK_DOWNLOAD_COUPON:"iglu:com.29cm/click_download_coupon/jsonschema/1-0-2",CLICK_BUTTON_CART:"iglu:com.29cm/click_button_cart/jsonschema/1-0-0",CLICK_BUTTON_CS_QNA_MANTOMAN_MAIN:"iglu:com.29cm/click_button_cs_qna_mantoman_main/jsonschema/1-0-0",VISIT_CS_QNA_MANTOMAN_MAIN:"iglu:com.29cm/visit_cs_qna_mantoman_main/jsonschema/1-0-0",CLICK_BUTTON:"iglu:com.29cm/click_button/jsonschema/1-0-1",VIEW_PAGE:"iglu:com.29cm/view_page/jsonschema/1-0-0"}},29904:function(e,t,r){"use strict";r.d(t,{t:function(){return o}});var n=r(84400),i=r(42417);let o=(e,t,r)=>{let o=(0,n.useRef)(null);return(0,n.useEffect)(()=>(o.current=new i.g0(e,r),o.current.onmessage=e=>{null==t||t(e)},()=>{var e;null===(e=o.current)||void 0===e||e.close()}),[]),{postMessage:e=>{var t;null===(t=o.current)||void 0===t||t.postMessage(e)}}}},70419:function(e,t,r){"use strict";r.d(t,{s:function(){return l}});var n=r(8422),i=r(29904),o=r(11094);let l=()=>{let e=(0,n.useQueryClient)(),{postMessage:t}=(0,i.t)("@order/integrate-mileage",t=>{"refetch-integrate-mileage"===t&&e.invalidateQueries([o.d])});return{refetchIntegrateMileage:()=>{t("refetch-integrate-mileage")}}}},7560:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return ts},default:function(){return tc}});var n=r(67115),i=r(92490),o=r(30722),l=r(36761),s=r(38290),c=r(73857),a=r(67227),d=r(6422),x=r(17780),p=r(74209),g=r(85053),m=r(70419),h=r(1821),u=r(31791),j=r(20356),y=r(12760),f=r(51199),v=r(45916),_=r(18747),b=r(36604);let C=()=>{var e,t;let r=(0,v.xJ)(),{data:n,isLoading:i,isError:o}=(0,x.aM)(["@mypage/possible-earn-review-mileage"],()=>_.N.getMyPageCount()),{data:l,isLoading:s,isError:c}=(0,b.a)(r.no);return{totalPossibleEarnReviewMileage:null!==(t=null!==(e=null==n?void 0:n.possibleEarnMileage)&&void 0!==e?e:null==l?void 0:l.totalPossibleEarnReviewMileage)&&void 0!==t?t:0,isLoading:i||s,isError:o||c}};var k=r(53251);function E(){let e=(0,u._)(["\n      &::before {\n        content: '';\n        position: absolute;\n        top: 50%;\n        left: -12px;\n        transform: translateY(-50%);\n        width: 1px;\n        height: 11px;\n        background-color: ",";\n\n        /* stylelint-disable-next-line plugin/no-unsupported-browser-features */\n        "," {\n          display: none;\n        }\n      }\n    "]);return E=function(){return e},e}let I=()=>{let{totalPossibleEarnReviewMileage:e}=C();return(0,n.jsx)(w,{children:(0,n.jsx)(T,{children:(0,n.jsxs)(M,{href:"".concat(k.env.workspace.order,"/my-order/review"),passWebview:!0,children:[(0,n.jsx)(j.xv,{typography:"text-l-bold",color:"primary",children:"적립 가능 마일리지"}),(0,n.jsxs)(O,{children:[(0,n.jsx)(j.xv,{typography:"text-l-bold",color:"primary",children:e.toLocaleString("ko-KR")}),(0,n.jsx)(j.JO,{type:"chevronRight",weight:"regular",fill:!1,size:18})]})]})})})},w=(0,a.Z)("section",{target:"e1lwtk040"})((0,l.fU)({align:"center",direction:"column"})," ",c.Eg.max540,"{width:100%;}"),T=(0,a.Z)("div",{target:"e1lwtk041"})("width:100%;background-color:",o.g.$semantic.color.background.low,";",c.Eg.min541,"{display:none;}"),M=(0,a.Z)(f.r,{target:"e1lwtk042"})((0,l.fU)({justify:"space-between",align:"center"}),"  padding:18px 18px 18px 20px;"),O=(0,a.Z)("div",{target:"e1lwtk043"})((0,l.fU)({align:"center"}));(0,a.Z)("ul",{target:"e1lwtk044"})((0,l.fU)({align:"center"}),"  gap:24px;",c.Eg.max540,"{gap:10px;width:100%;",(0,l.fU)({direction:"column"}),";padding:16px 20px;}"),(0,a.Z)("li",{target:"e1lwtk045"})("position:relative;",(0,l.fU)({align:"center",justify:"space-between"}),";",e=>{let{hasDivider:t}=e;return t&&(0,y.css)(E(),o.g.$semantic.color.border.line,c.Eg.max540)});var N=r(58488);let Z=()=>{let{isMobile:e}=(0,i.uw)(),{isEnabled:t}=(0,N.l)();return(0,n.jsx)("div",{children:(0,n.jsxs)(U,{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)(j.xv,{typography:e?"text-s-bold":"text-m-bold",color:"secondary",children:"마일리지 적립"}),(0,n.jsxs)(S,{children:[(0,n.jsxs)(L,{children:[(0,n.jsx)(R,{}),(0,n.jsx)(j.xv,{typography:e?"text-s":"text-m",color:"secondary",children:"구매적립 마일리지는 구매확정 시 (배송시작 후 9일째) 적립됩니다."})]}),(0,n.jsxs)(L,{children:[(0,n.jsx)(R,{}),(0,n.jsx)(j.xv,{typography:e?"text-s":"text-m",color:"secondary",children:"리뷰작성 마일리지는 리뷰 작성 완료 즉시 적립됩니다."})]})]})]}),(0,n.jsxs)("li",{children:[(0,n.jsx)(j.xv,{typography:e?"text-s-bold":"text-m-bold",color:"secondary",children:"마일리지 소멸"}),(0,n.jsxs)(S,{children:[(0,n.jsxs)(L,{children:[(0,n.jsx)(R,{}),(0,n.jsx)(j.xv,{typography:e?"text-s":"text-m",color:"secondary",children:"마일리지의 기본 유효기한은 적립 일자로부터 5년이며, 유효기한이 지난 마일리지는 소멸됩니다. 소멸된 마일리지는 복구되지 않습니다."})]}),(0,n.jsxs)(L,{children:[(0,n.jsx)(R,{}),(0,n.jsx)(j.xv,{typography:e?"text-s":"text-m",color:"secondary",children:"이벤트 마일리지의 경우, 유효기간 내에만 사용이 가능하며, 미사용 마일리지는 소멸됩니다."})]})]})]}),(0,n.jsxs)("li",{children:[(0,n.jsx)(j.xv,{typography:e?"text-s-bold":"text-m-bold",color:"secondary",children:"마일리지 사용"}),(0,n.jsxs)(S,{children:[(0,n.jsxs)(L,{children:[(0,n.jsx)(R,{}),(0,n.jsx)(j.xv,{typography:e?"text-s":"text-m",color:"secondary",children:t?"보유 마일리지가 3,000원 이상이면, 결제 금액(배송비 제외)의 최대 7%까지 사용할 수 있습니다.":"보유한 마일리지는 주문 시 총 상품 금액만큼 사용할 수 있습니다. (배송비 제외)"})]}),(0,n.jsxs)(L,{children:[(0,n.jsx)(R,{}),(0,n.jsx)(j.xv,{typography:e?"text-s":"text-m",color:"secondary",children:"마일리지는 남은 유효기간이 짧은 순서대로 사용됩니다."})]}),(0,n.jsxs)(L,{children:[(0,n.jsx)(R,{}),(0,n.jsx)(j.xv,{typography:e?"text-s":"text-m",color:"secondary",children:"주문 취소/반품으로 인한 마일리지 환불 시, 남은 유효기간이 긴 순서대로 환불됩니다."})]})]})]})]})})},U=(0,a.Z)("ul",{target:"e1naw1qd0"})("> li + li{margin-top:30px;",c.Eg.max540,"{margin-top:16px;}}"),S=(0,a.Z)("ul",{target:"e1naw1qd1"})((0,l.fU)({direction:"column"}),"  gap:6px;margin-top:10px;",c.Eg.max540,"{margin-top:6px;}"),L=(0,a.Z)("li",{target:"e1naw1qd2"})((0,l.fU)({align:"center"})),R=(0,a.Z)("span",{target:"e1naw1qd3"})("display:block;width:3px;height:3px;margin-right:7px;background-color:",o.g.$scale.color.gray600,";border-radius:50%;"),A=()=>{let{isMobile:e}=(0,i.uw)(),t=e?"primary":"secondary";return(0,n.jsxs)(K,{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)(j.xv,{typography:e?"text-l-bold":"text-m-bold",color:t,children:"통합 적립금이란?"}),(0,n.jsxs)(P,{children:[(0,n.jsxs)(D,{children:[(0,n.jsx)(z,{}),(0,n.jsx)(j.xv,{typography:e?"text-l":"text-m",color:t,children:"29CM와 무신사의 적립금을 통합하여 적립 및 사용할 수 있는 기능입니다."})]}),(0,n.jsxs)(D,{children:[(0,n.jsx)(z,{}),(0,n.jsx)(j.xv,{typography:e?"text-l":"text-m",color:t,children:"29CM에서 적립한 적립금은 무신사에서도 동일하게 적립되며, 29CM에서 사용한 적립금은 무신사에서도 동일하게 차감됩니다. 반대의 경우도 동일하게 적용됩니다."})]})]})]}),(0,n.jsxs)("li",{children:[(0,n.jsx)(j.xv,{typography:e?"text-l-bold":"text-m-bold",color:t,children:"통합 적립금의 적립"}),(0,n.jsxs)(P,{children:[(0,n.jsxs)(D,{children:[(0,n.jsx)(z,{}),(0,n.jsx)(j.xv,{typography:e?"text-l":"text-m",color:t,children:"구매적립금은 구매확정 시(배송시작 후 9일째) 적립됩니다."})]}),(0,n.jsxs)(D,{children:[(0,n.jsx)(z,{}),(0,n.jsx)(j.xv,{typography:e?"text-l":"text-m",color:t,children:"리뷰작성 적립금은 리뷰 작성 완료 즉시 적립됩니다."})]})]})]}),(0,n.jsxs)("li",{children:[(0,n.jsx)(j.xv,{typography:e?"text-l-bold":"text-m-bold",color:t,children:"통합 적립금의 소멸"}),(0,n.jsxs)(P,{children:[(0,n.jsxs)(D,{children:[(0,n.jsx)(z,{}),(0,n.jsx)(j.xv,{typography:e?"text-l":"text-m",color:t,children:"적립금의 기본 유효기한은 적립 일자로부터 5년이며, 유효기한이 지난 적립금은 소멸됩니다. 소멸된 적립금은 복구되지 않습니다."})]}),(0,n.jsxs)(D,{children:[(0,n.jsx)(z,{}),(0,n.jsx)(j.xv,{typography:e?"text-l":"text-m",color:t,children:"이벤트 적립금의 경우, 유효기간 내에만 사용이 가능하며, 미사용 적립금은 소멸됩니다."})]}),(0,n.jsxs)(D,{children:[(0,n.jsx)(z,{}),(0,n.jsx)(j.xv,{typography:e?"text-l":"text-m",color:t,children:"주문 취소/반품으로 인한 마일리지 환불 시, 남은 유효기간이 긴 순서대로 환불됩니다."})]})]})]}),(0,n.jsxs)("li",{children:[(0,n.jsx)(j.xv,{typography:e?"text-l-bold":"text-m-bold",color:t,children:"통합 적립금의 사용"}),(0,n.jsxs)(P,{children:[(0,n.jsxs)(D,{children:[(0,n.jsx)(z,{}),(0,n.jsx)(j.xv,{typography:e?"text-l":"text-m",color:t,children:"적립금은 5천원 이상 보유시 사용할 수 있습니다."})]}),(0,n.jsxs)(D,{children:[(0,n.jsx)(z,{}),(0,n.jsx)(j.xv,{typography:e?"text-l":"text-m",color:t,children:"적립금은 판매가의 7%까지 사용할 수 있습니다."})]}),(0,n.jsxs)(D,{children:[(0,n.jsx)(z,{}),(0,n.jsx)(j.xv,{typography:e?"text-l":"text-m",color:t,children:"(배송비 제외) 적립금은 남은 유효기간이 짧은 순서대로 사용됩니다."})]}),(0,n.jsxs)(D,{children:[(0,n.jsx)(z,{}),(0,n.jsx)(j.xv,{typography:e?"text-l":"text-m",color:t,children:"주문 취소/반품으로 인한 적립금 환불시, 남은 유효기간이 긴 순서대로 환불됩니다."})]})]})]})]})},K=(0,a.Z)("ul",{target:"ep62ts90"})(c.Eg.max540,"{overflow-y:scroll;height:72vh;}> li + li{margin-top:30px;",c.Eg.max540,"{margin-top:24px;}}"),P=(0,a.Z)("ul",{target:"ep62ts91"})((0,l.fU)({direction:"column"}),"  gap:6px;margin-top:10px;",c.Eg.max540,"{margin-top:6px;}"),D=(0,a.Z)("li",{target:"ep62ts92"})((0,l.fU)({align:"center"})),z=(0,a.Z)("span",{target:"ep62ts93"})("display:block;width:3px;height:3px;margin-right:7px;background-color:",o.g.$scale.color.gray600,";border-radius:50%;"),B=e=>{let{isMileageIntegrationAgreed:t}=e;return(0,n.jsx)(V,{children:t?(0,n.jsx)(A,{}):(0,n.jsx)(Z,{})})},V=(0,a.Z)("section",{target:"ezlum970"})("padding:30px 20px;background-color:",o.g.$semantic.color.background.low,";");var $=r(73792),q=r(24623),H=r(84400);let F=()=>{let[e,t]=(0,H.useState)(!1),r=(0,H.useRef)(null),i=(0,H.useRef)(null);return(0,v.O8)([r,i],()=>{e&&t(!1)}),(0,n.jsxs)(G,{children:[(0,n.jsx)(j.zx,{ref:r,priority:"secondary",size:"xSmall",onClick:()=>{t(e=>!e)},children:"유의사항"}),(0,n.jsx)(W,{ref:i,isDisplay:e,children:e?(0,n.jsx)(Z,{}):null})]})},G=(0,a.Z)("section",{target:"enikpfi0"})("position:relative;margin-top:6px;"),W=(0,a.Z)("div",{target:"enikpfi1"})("position:absolute;z-index:1;top:calc(100% + 5px);right:0;display:",e=>{let{isDisplay:t}=e;return t?"unset":"none"},";width:calc(100vw - 20px - 20px);padding:16px 16px 20px;word-break:break-word;background-color:",o.g.$semantic.color.background.default,";border:1px solid ",o.g.$semantic.color.border.line,";");var Q=r(47346),Y=r(46345);let J=()=>{var e;let{data:t,isLoading:r,isError:n}=(0,Q.aM)(["@mypage/mileage-info"],()=>Y.s.getMileageInfo());return{totalMileage:null!==(e=null==t?void 0:t.totalMileage)&&void 0!==e?e:0,isLoading:r,isError:n}};var X=r(63320),ee=r(16048);let et=()=>{let e=(0,v.Rh)(),{isMobile:t}=(0,i.uw)(),{navigate:r}=(0,v.zH)();return(0,n.jsx)("div",{children:(0,n.jsx)(j.zx,{priority:"secondary",size:"xSmall",onClick:()=>{if(t){r({pathname:"/my-order/mileage/previous-history",query:{"29cm_nav_cart":"off","29cm_nav_search":"off","29cm_title":"전환 이전 내역"}});return}e.show({content:(0,n.jsxs)(er,{children:[(0,n.jsxs)(en,{children:[(0,n.jsx)(j.xv,{typography:"title-xs-bold",color:"primary",align:"left",children:"전환 이전 내역"}),(0,n.jsx)(X.u,{show:!0,showOnHover:!0,content:(0,n.jsxs)(n.Fragment,{children:["(구)29CM 마일리지 내역으로,",(0,n.jsx)("br",{}),"전환 전까지의 내역만 확인하실 수 있습니다."]}),position:"right",children:(0,n.jsx)(ei,{children:(0,n.jsx)(j.JO,{type:"question"})})})]}),(0,n.jsx)(ee.w,{})]}),hideButton:!0})},children:"전환 이전 내역"})})},er=(0,a.Z)("div",{target:"e1kn34ir0"})("width:680px;margin:-50px -20px -16px;"),en=(0,a.Z)("div",{target:"e1kn34ir1"})("display:flex;align-items:center;padding:28px 0 8px;text-align:left;border-bottom:",o.g.$scale.dimension.dimension50," solid ",o.g.$semantic.color.border.dividerStrong,";"),ei=(0,a.Z)("div",{target:"e1kn34ir2"})("display:flex;align-items:center;margin-left:4px;");var eo=r(24638);let el=()=>{let{hide:e}=ea();return(0,n.jsxs)(es,{children:[(0,n.jsx)(j.xv,{typography:"title-l-bold",color:"primary",children:"통합 적립금 유의사항"}),(0,n.jsx)(A,{}),(0,n.jsx)(j.zx,{size:"large",priority:"secondary",onClick:e,children:"닫기"})]})},es=(0,a.Z)("div",{target:"e8abp0e0"})("display:flex;flex-direction:column;gap:12px;padding:0 20px;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom);"),ec="integrated-milage-notice-bottom-sheet",ea=()=>{let e=(0,eo.Q)();return{show:()=>{e.show({id:ec,content:(0,n.jsx)(el,{}),safeAreaPadding:!0,contentDragCloseable:!0,overlayColor:o.g.$semantic.color.overlay.dimmed,textAlign:"left"})},hide:()=>{e.hide(ec)}}},ed=e=>{let{isMileageIntegrationAgreed:t}=e,{totalMileage:r}=J(),{show:i}=ea();return(0,n.jsxs)(ex,{children:[(0,n.jsxs)(ep,{children:[(0,n.jsx)(j.xv,{typography:"title-xxl-bold",color:"primary",children:r.toLocaleString("ko-KR")}),t?(0,n.jsxs)(l.kC.Center,{children:[(0,n.jsx)(j.xv,{typography:"text-xl",color:"tertiary",children:"보유한 통합 적립금"}),(0,n.jsx)(em,{type:"question",color:"tertiary",fill:!0,size:20,onClick:()=>{i()}})]}):(0,n.jsx)(j.xv,{typography:"text-xl",color:"tertiary",children:"보유 마일리지"})]}),t?(0,n.jsx)(eg,{marginTop:17,children:(0,n.jsx)(et,{})}):(0,n.jsx)(eg,{marginTop:6,children:(0,n.jsx)(F,{})})]})},ex=(0,a.Z)("section",{target:"e1r92rn20"})((0,l.fU)({justify:"space-between",align:"flex-start"})),ep=(0,a.Z)("div",{target:"e1r92rn21"})((0,l.fU)({justify:"flex-start",direction:"column"})),eg=(0,a.Z)("div",{target:"e1r92rn22"})("margin-top:",e=>{let{marginTop:t}=e;return"".concat(t,"px")},";"),em=(0,a.Z)(j.JO,{target:"e1r92rn23"})("cursor:pointer;margin-left:4px;");var eh=r(7482),eu=r(76394),ej=r(35474),ey=r(63751),ef=r(36450);let ev=()=>{let{isWebview:e}=(0,i.uw)(),{trackBraze:t,trackSnowplow:r}=(0,ef.z)();(0,H.useEffect)(()=>{r(ej.d.VIEW_PAGE,{page_name:"mileage"}),e?t(ey.Ft.VISIT_MY_MILEAGE):(0,eu.M)(ey.Ft.VISIT_MY_MILEAGE)},[])},e_=e=>{let{isMileageIntegrationAgreed:t,resetErrorBoundary:r}=e,{isMobile:o}=(0,i.uw)();return(0,n.jsxs)(eb,{children:[(0,n.jsxs)(j.xv,{typography:o?"text-l-medium":"title-xxl-bold",color:o?"secondary":"primary",align:"center",children:["일시적으로 ",t?"적립금":"마일리지"," 내역을",o?" ":(0,n.jsx)("br",{}),"불러오지 못했습니다."]}),(0,n.jsx)(eC,{typography:o?"text-l-medium":"text-l",color:"secondary",as:"p",children:"새로고침 버튼을 눌러 다시 시도해주세요."}),(0,n.jsx)(ek,{size:"large",priority:"primary",onClick:r,children:"새로고침"})]})},eb=(0,a.Z)(l.kC.Center,{target:"e14zhpig0"})("flex-direction:column;width:100%;height:500px;",c.Eg.mobile,"{height:366px;margin-bottom:-120px;}"),eC=(0,a.Z)(j.xv,{target:"e14zhpig1"})("margin-top:20px;",c.Eg.mobile,"{margin-top:0;}"),ek=(0,a.Z)(j.zx,{target:"e14zhpig2"})("margin-top:32px;",c.Eg.mobile,"{margin-top:24px;}");var eE=r(10927),eI=r(2809),ew=r(45057),eT=r(41132),eM=r(18310);let eO=e=>{let{tab:t,page:r}=e;return(0,Q.aM)(["@mypage/integrated-mileage-paginated-list",t,r],()=>Y.s.getIntegratedMileageList({mileageType:t,page:r,size:30}),{keepPreviousData:!0,useErrorBoundary:e=>!!e})},eN=e=>{let{selectedTab:t,page:r,onPageChange:i}=e,{data:o,isLoading:s}=eO({tab:t,page:r});return s?(0,n.jsxs)("section",{children:[(0,n.jsx)(l.Ki,{size:200}),(0,n.jsx)(j.$j,{size:"medium"})]}):(null==o?void 0:o.resultList.length)===0?(0,n.jsxs)("section",{children:[(0,n.jsx)(l.Ki,{size:200}),(0,n.jsx)(l.kC,{justify:"center",align:"center",children:(0,n.jsx)(j.xv,{typography:"text-xxl",color:"secondary",children:"적립금 내역이 없습니다."})}),(0,n.jsx)(l.Ki,{size:200})]}):(0,n.jsxs)("section",{children:[(0,n.jsx)(eZ,{children:null==o?void 0:o.resultList.map((e,t)=>{let{title:r,mileageType:i,completedAt:l,amount:s,comment:c,expiredAt:a,storeName:d}=e,x=null==o?void 0:o.resultList[t-1],p=x?(0,eI.D)(x.completedAt):null,g=p?(0,ew.S)(p):null,m=(0,eI.D)(l),h=(0,ew.S)(m),u=g===h;return(0,n.jsxs)(eU,{children:[(0,n.jsx)(eS,{children:u?null:(0,n.jsx)(j.xv,{typography:"text-m-medium",color:"tertiary",children:h})}),(0,n.jsx)(eL,{children:(0,n.jsx)(j.xv,{typography:"text-m-medium",color:"primary",children:(0,eT.WU)(m,"MM.dd")})}),(0,n.jsxs)(eR,{children:[(0,n.jsxs)(eA,{children:[(0,n.jsx)(j.xv,{typography:"text-m-bold",color:"primary",children:i}),(0,n.jsx)(j.xv,{typography:"text-l-bold",color:s>0?"accent":"tertiary",children:"".concat(s>0?"+":"").concat(s.toLocaleString("ko-KR"))})]}),c?(0,n.jsx)(j.xv,{typography:"text-m-medium",color:"secondary",children:c}):null,(0,n.jsxs)(eK,{children:[(0,n.jsx)(eP,{priority:"tertiary",size:"small",children:d}),r?(0,n.jsx)(j.xv,{typography:"text-s",color:"tertiary",children:r}):null,a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eD,{}),(0,n.jsxs)(j.xv,{typography:"text-s",color:"tertiary",children:[(0,eT.WU)((0,eI.D)(a),"yyyy.MM.dd")," 소멸예정"]})]}):null]})]})]},t)})}),(0,n.jsx)(eM.t,{currentPage:r,totalCount:null==o?void 0:o.totalCount,perPage:30,onPageChange:i})]})},eZ=(0,a.Z)("ul",{target:"e1vx1p660"})("margin-bottom:50px;"),eU=(0,a.Z)("li",{target:"e1vx1p661"})((0,l.fU)({}),"  margin-top:20px;padding-bottom:20px;border-bottom:1px solid ",o.g.$semantic.color.border.divider,";"),eS=(0,a.Z)("div",{target:"e1vx1p662"})((0,l.fU)({align:"flex-start"}),"  width:32px;margin-right:28px;"),eL=(0,a.Z)("div",{target:"e1vx1p663"})((0,l.fU)({align:"flex-start"}),"  margin-right:14px;"),eR=(0,a.Z)("div",{target:"e1vx1p664"})("flex:1;",(0,l.fU)({direction:"column"}),"  gap:4px;"),eA=(0,a.Z)("div",{target:"e1vx1p665"})((0,l.fU)({justify:"space-between"})),eK=(0,a.Z)("div",{target:"e1vx1p666"})((0,l.fU)({align:"center"})),eP=(0,a.Z)(j.Ct,{target:"e1vx1p667"})("margin-right:4px;"),eD=(0,a.Z)("span",{target:"e1vx1p668"})("display:block;width:1px;height:8px;margin:0 8px;background-color:",o.g.$semantic.color.border.line,";"),ez=e=>{let{selectedTab:t,page:r,isMileageIntegrationAgreed:i,onPageChange:o}=e;return i?(0,n.jsx)(eN,{page:r,onPageChange:o,selectedTab:t}):(0,n.jsx)(eE.j,{page:r,onPageChange:o,selectedTab:t})};var eB=r(69696),eV=r(82593),e$=r(72319);let eq=/(.*) 외 (\d+)건$/,eH=(e,t)=>{if(e!==e$.u.USE)return t;let r=null==t?void 0:t.match(eq);if(!r)return t;let[n,i]=r;return[n.trim(),"외 ".concat(i,"건")]},eF=e=>{let{tab:t}=e;return(0,Q.NS)(["@mypage/integrated-mileage-infinite-list",t],e=>{let{pageParam:r={page:1}}=e;return Y.s.getIntegratedMileageList({mileageType:t,page:r.page,size:50})},{keepPreviousData:!0,getNextPageParam:(e,t)=>50===e.resultList.length&&{page:t.length+1},useErrorBoundary:e=>!!e})},eG=e=>{let{selectedTab:t}=e,{data:r,fetchNextPage:i,hasNextPage:o,isLoading:s}=eF({tab:t}),c=null==r?void 0:r.pages.flatMap(e=>e.resultList);return s?(0,n.jsxs)(l.kC.Center,{children:[(0,n.jsx)(l.Ki,{size:"100"}),(0,n.jsx)(j.$j,{size:"medium"})]}):(null==c?void 0:c.length)===0?(0,n.jsx)(eW,{children:(0,n.jsx)(j.xv,{typography:"text-l",color:"tertiary",children:"적립금 내역이 없습니다."})}):(0,n.jsxs)("section",{children:[(0,n.jsx)(eQ,{children:null==c?void 0:c.map((e,t)=>{let{title:r,mileageType:i,completedAt:o,amount:l,comment:s,storeName:a,expiredAt:d}=e,x=c[t-1],p=x?(0,eI.D)(x.completedAt):null,g=p?(0,ew.S)(p):null,m=(0,eI.D)(o),h=(0,ew.S)(m),u=g===h,y=eH(i,s);return(0,n.jsxs)(eY,{children:[u?null:(0,n.jsx)(eJ,{children:(0,n.jsx)(j.xv,{typography:"text-m-medium",color:"tertiary",children:h})}),(0,n.jsxs)(e0,{children:[(0,n.jsx)(eX,{children:(0,n.jsx)(j.xv,{typography:"text-m-medium",color:"primary",children:(0,eT.WU)(m,"MM.dd")})}),(0,n.jsxs)(e1,{children:[(0,n.jsxs)(e9,{children:[(0,n.jsx)(j.xv,{typography:"text-m-bold",color:"primary",children:i}),(0,n.jsx)(j.xv,{typography:"text-l-bold",color:l>0?"accent":"tertiary",children:"".concat(l>0?"+":"").concat(l.toLocaleString("ko-KR"))})]}),y?(0,n.jsx)(eV.H,{value:typeof y,caseBy:{string:(0,n.jsx)(e4,{children:(0,n.jsx)(j.xv,{typography:"text-m-medium",color:"secondary",lineLimit:1,children:y})}),object:(0,n.jsxs)(e4,{children:[(0,n.jsx)(j.xv,{typography:"text-m-medium",color:"secondary",lineLimit:1,children:y[0]}),(0,n.jsx)(e6,{typography:"text-m-medium",color:"secondary",children:y[1]})]})}}):null,(0,n.jsxs)(e5,{children:[(0,n.jsx)(e2,{priority:"tertiary",size:"small",children:a}),r?(0,n.jsx)(j.xv,{typography:"text-s",color:"tertiary",children:r}):null]}),d?(0,n.jsxs)(j.xv,{typography:"text-s",color:"tertiary",children:[(0,eT.WU)((0,eI.D)(d),"yyyy.MM.dd")," 소멸예정"]}):null]})]})]},t)})}),(0,n.jsx)(eB.l,{onLoad:()=>{o&&i()}})]})},eW=(0,a.Z)("section",{target:"emvcfik0"})((0,l.fU)({justify:"center",align:"center"}),"  padding:60px 0 120px;"),eQ=(0,a.Z)("ul",{target:"emvcfik1"})("margin-bottom:50px;"),eY=(0,a.Z)("li",{target:"emvcfik2"})((0,l.fU)({direction:"column"}),"  padding-bottom:20px;border-bottom:1px solid ",o.g.$semantic.color.border.divider,";"),eJ=(0,a.Z)("div",{target:"emvcfik3"})("margin-top:20px;"),eX=(0,a.Z)("div",{target:"emvcfik4"})((0,l.fU)({align:"flex-start"}),"  margin-right:14px;white-space:nowrap;"),e0=(0,a.Z)("div",{target:"emvcfik5"})((0,l.fU)({direction:"row"}),"  margin-top:20px;"),e1=(0,a.Z)("div",{target:"emvcfik6"})("overflow:hidden;gap:4px;",(0,l.fU)({direction:"column"}),"  width:100%;"),e2=(0,a.Z)(j.Ct,{target:"emvcfik7"})("margin-right:4px;"),e9=(0,a.Z)("div",{target:"emvcfik8"})((0,l.fU)({justify:"space-between"})),e4=(0,a.Z)("div",{target:"emvcfik9"})((0,l.fU)({})),e6=(0,a.Z)(j.xv,{target:"emvcfik10"})("white-space:nowrap;"),e5=(0,a.Z)("div",{target:"emvcfik11"})((0,l.fU)({align:"center"}),"  > span + span{",(0,l.fU)({align:"center"}),"    &::before{content:'';display:block;width:1px;height:8px;margin:0 8px;background-color:",o.g.$semantic.color.border.line,";}}");var e7=r(77148);let e3=e=>{let{selectedTab:t,isMileageIntegrationAgreed:r}=e;return r?(0,n.jsx)(eG,{selectedTab:t}):(0,n.jsx)(e7.L,{selectedTab:t})},e8=(0,a.Z)(p.N,{target:"ecjdiko0"})("margin:4px 0 20px;"),te=(0,a.Z)("div",{target:"ecjdiko1"})("margin-bottom:20px;"),tt=(0,a.Z)("section",{target:"ecjdiko2"})((0,l.fU)({justify:"space-between"}),"  padding-bottom:20px;border-bottom:",o.g.$scale.dimension.dimension50," solid ",o.g.$semantic.color.border.dividerStrong,";",c.Eg.max540,"{",(0,l.fU)({direction:"column-reverse"}),"    padding-bottom:0;border:0;}"),tr=(0,a.Z)("div",{target:"ecjdiko3"})("width:100vw;height:1px;margin:0 -20px;background-color:",o.g.$semantic.color.border.divider,";"),tn=(0,a.Z)("div",{target:"ecjdiko4"})(c.Eg.max540,"{margin-top:30px;}"),ti=(0,a.Z)("div",{target:"ecjdiko5"})((0,l.fU)({align:"center"})," ",c.Eg.max540,"{margin:0 -20px;border-bottom:1px solid ",o.g.$semantic.color.background.low,";}"),to=(0,a.Z)("div",{target:"ecjdiko6"})("padding-top:20px;",c.Eg.max540,"{padding:0;}"),tl=(0,a.Z)("div",{target:"ecjdiko7"})("margin-top:50px;");var ts=!0,tc=()=>{let{isMobile:e}=(0,i.uw)(),{isLoading:t,isMileageIntegrationAgreed:r,shouldShowIntegrateMileageBanner:o}=(0,eh.a)(),{isLoading:l}=(0,g.s)();(0,m.s)();let{page:c,handlePageChange:a,resetPage:p}=(0,q.P)(),{tabList:u,selectedTab:j,handleTabSelect:y}=(0,q.D)({onTabChange:()=>p()});return(ev(),t||l)?(0,n.jsx)(h.O,{title:"마일리지",children:(0,n.jsx)(s.ko,{})}):(0,n.jsx)(h.O,{title:"마일리지",children:(0,n.jsx)(x.kx,{children:t=>{let{reset:i}=t;return(0,n.jsxs)(d.ErrorBoundary,{FallbackComponent:e=>{let{resetErrorBoundary:t}=e;return e_({isMileageIntegrationAgreed:r,resetErrorBoundary:t})},onReset:i,children:[o?(0,n.jsx)(e8,{query:{from:"my-mileage"}}):null,e?(0,n.jsx)(te,{children:(0,n.jsx)(ed,{isMileageIntegrationAgreed:r})}):null,r&&e?(0,n.jsx)(tr,{}):null,(0,n.jsxs)(tt,{children:[(0,n.jsx)(tn,{children:(0,n.jsx)($.x,{tabList:u,selectedTab:j,onTabSelect:y})}),r?null:(0,n.jsx)(ti,{children:(0,n.jsx)(I,{})}),r&&!e?(0,n.jsx)(et,{}):null]}),(0,n.jsx)(to,{children:e?(0,n.jsx)(e3,{selectedTab:j,isMileageIntegrationAgreed:r}):(0,n.jsx)(ez,{selectedTab:j,page:c,onPageChange:a,isMileageIntegrationAgreed:r})}),e?null:(0,n.jsx)(tl,{children:(0,n.jsx)(B,{isMileageIntegrationAgreed:r})})]})}})})}},76394:function(e,t,r){"use strict";r.d(t,{M:function(){return n}});let n=(e,t)=>{try{r.e(1018).then(r.bind(r,91018)).then(r=>{let{logCustomEvent:n}=r;return n(e,t)})}catch(e){}}},6422:function(e,t,r){(function(e,t){"use strict";var r=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}(t);function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var i={error:null},o=function(e){function t(){for(var t,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state=i,t.resetErrorBoundary=function(){for(var e,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,n),t.reset()},t}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var o=t.prototype;return o.reset=function(){this.setState(i)},o.componentDidCatch=function(e,t){var r,n;null==(r=(n=this.props).onError)||r.call(n,e,t)},o.componentDidUpdate=function(e,t){var r,n,i,o,l=this.state.error,s=this.props.resetKeys;null!==l&&null!==t.error&&(void 0===(r=e.resetKeys)&&(r=[]),void 0===(n=s)&&(n=[]),r.length!==n.length||r.some(function(e,t){return!Object.is(e,n[t])}))&&(null==(i=(o=this.props).onResetKeysChange)||i.call(o,e.resetKeys,s),this.reset())},o.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,i=t.FallbackComponent,o=t.fallback;if(null!==e){var l={error:e,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(o))return o;if("function"==typeof n)return n(l);if(i)return r.createElement(i,l);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(r.Component);e.ErrorBoundary=o,e.useErrorHandler=function(e){var t=r.useState(null),n=t[0],i=t[1];if(null!=e)throw e;if(null!=n)throw n;return i},e.withErrorBoundary=function(e,t){var n=function(n){return r.createElement(o,t,r.createElement(e,n))},i=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary("+i+")",n},Object.defineProperty(e,"__esModule",{value:!0})})(t,r(84400))}},function(e){e.O(0,[4673,2663,2417,6761,6481,604,1821,3477,4870,2888,9774,179],function(){return e(e.s=79476)}),_N_E=e.O()}]);