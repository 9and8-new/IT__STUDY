!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5a7ea677-7893-4290-833e-5b26927bec79",e._sentryDebugIdIdentifier="sentry-dbid-5a7ea677-7893-4290-833e-5b26927bec79")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9131],{9744:function(e){var t;t=function(){function e(o,l){if(!(this instanceof e))return new e(o,l);var a=Math.pow(10,(l=Object.assign({},n,l)).precision);this.intValue=o=t(o,l),this.value=o/a,l.increment=l.increment||1/a,l.groups=l.useVedic?s:i,this.s=l,this.p=a}function t(t,n){var i=!(2<arguments.length)||void 0===arguments[2]||arguments[2],s=n.decimal,o=n.errorOnInvalid,l=n.fromCents,a=Math.pow(10,n.precision),r=t instanceof e;if(r&&l)return t.intValue;if("number"==typeof t||r)s=r?t.value:t;else if("string"==typeof t)o=RegExp("[^-\\d"+s+"]","g"),s=RegExp("\\"+s,"g"),s=(s=t.replace(/\((.*)\)/,"-$1").replace(o,"").replace(s,"."))||0;else{if(o)throw Error("Invalid Input");s=0}return l||(s=(s*a).toFixed(4)),i?Math.round(s):s}var n={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:function(e,t){var n=t.pattern,i=t.negativePattern,s=t.symbol,o=t.separator,l=t.decimal;t=t.groups;var a=(""+e).replace(/^-/,"").split("."),r=a[0];return a=a[1],(0<=e.value?n:i).replace("!",s).replace("#",r.replace(t,"$1"+o)+(a?l+a:""))},fromCents:!1},i=/(\d)(?=(\d{3})+\b)/g,s=/(\d)(?=(\d\d)+\d\b)/g;return e.prototype={add:function(n){var i=this.s,s=this.p;return e((this.intValue+t(n,i))/(i.fromCents?1:s),i)},subtract:function(n){var i=this.s,s=this.p;return e((this.intValue-t(n,i))/(i.fromCents?1:s),i)},multiply:function(t){var n=this.s;return e(this.intValue*t/(n.fromCents?1:Math.pow(10,n.precision)),n)},divide:function(n){var i=this.s;return e(this.intValue/t(n,i,!1),i)},distribute:function(t){var n=this.intValue,i=this.p,s=this.s,o=[],l=Math[0<=n?"floor":"ceil"](n/t),a=Math.abs(n-l*t);for(i=s.fromCents?1:i;0!==t;t--){var r=e(l/i,s);0<a--&&(r=r[0<=n?"add":"subtract"](1/i)),o.push(r)}return o},dollars:function(){return~~this.value},cents:function(){return~~(this.intValue%this.p)},format:function(e){var t=this.s;return"function"==typeof e?e(this,t):t.format(this,Object.assign({},t,e))},toString:function(){var e=this.s,t=e.increment;return(Math.round(this.intValue/this.p/t)*t).toFixed(e.precision)},toJSON:function(){return this.value}},e},e.exports=t()},99786:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-order/coupon",function(){return n(55173)}])},35474:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});let i={CLICK_ITEM:"iglu:com.29cm/click_item/jsonschema/2-0-0",CLICK_ITEM_RECOMMEND:"iglu:com.29cm/click_item_recommend/jsonschema/1-0-0",IMPRESSION_ITEM:"iglu:com.29cm/impression_item/jsonschema/1-0-0",IMPRESSION_ITEM_RECOMMEND:"iglu:com.29cm/impression_item_recommend/jsonschema/1-0-0",IMPRESSION_CONTENT:"iglu:com.29cm/impression_content/jsonschema/1-0-0",VISIT_GIFT_RECEIVE:"iglu:com.29cm/visit_gift_receive/jsonschema/1-0-0",CLICK_BUTTON_GIFT_RECEIVE:"iglu:com.29cm/click_button_gift_receive/jsonschema/1-0-0",VISIT_GIFT_DETAIL:"iglu:com.29cm/visit_gift_detail/jsonschema/1-0-0",CLICK_BUTTON_GIFT_DETAIL:"iglu:com.29cm/click_button_gift_detail/jsonschema/1-0-0",CLICK_ITEM_GIFT_RECEIVE:"iglu:com.29cm/click_item_gift_receive/jsonschema/1-0-0",CLICK_CHECKBOX_CART:"iglu:com.29cm/click_checkbox_cart/jsonschema/1-0-0",VISIT_CART:"iglu:com.29cm/visit_cart/jsonschema/1-0-1",VISIT_CHECKOUT:"iglu:com.29cm/visit_checkout/jsonschema/1-0-1",PURCHASE_SUCCESS:"iglu:com.29cm/purchase_success/jsonschema/1-0-1",CLICK_CHECKOUT:"iglu:com.29cm/click_checkout/jsonschema/1-0-1",CLICK_BANNER:"iglu:com.29cm/click_banner/jsonschema/2-0-0",VIEW_BANNER:"iglu:com.29cm/view_banner/jsonschema/2-0-0",CLICK_BUTTON_CHECKOUT:"iglu:com.29cm/click_button_checkout/jsonschema/1-0-0",CLICK_INFO_CHECKOUT:"iglu:com.29cm/click_info_checkout/jsonschema/1-0-0",CLICK_CHECKOUT_APPLY:"iglu:com.29cm/click_checkout_apply/jsonschema/1-0-0",VISIT_ORDER_CONFIRMATION:"iglu:com.29cm/visit_order_confirmation/jsonschema/1-0-0",VISIT_COUPON:"iglu:com.29cm/visit_coupon/jsonschema/1-0-0",VISIT_CS_QNA_MANTOMAN_LIST:"iglu:com.29cm/visit_cs_qna_mantoman_list/jsonschema/1-0-0",VISIT_CS_QNA_MANTOMAN_WRITE:"iglu:com.29cm/visit_cs_qna_mantoman_write/jsonschema/1-0-0",VISIT_CS_VOC_WRITE:"iglu:com.29cm/visit_cs_voc_write/jsonschema/1-0-0",CLICK_BUTTON_CS_QNA_MANTOMAN_WRITE:"iglu:com.29cm/click_button_cs_qna_mantoman_write/jsonschema/1-0-0",CLICK_BUTTON_CS_QNA_MANTOMAN_LIST:"iglu:com.29cm/click_button_cs_qna_mantoman_list/jsonschema/1-0-0",HOME_RECOMMEND_CLICK_ITEM_RECOMMEND:"iglu:com.29cm/click_item_recommend/jsonschema/8-0-0",VIEW_DIALOG:"iglu:com.29cm/view_dialog/jsonschema/1-0-0",CLICK_BUTTON_DIALOG:"iglu:com.29cm/click_button_dialog/jsonschema/1-0-0",HOME_RECOMMEND_IMPRESSION_ITEM_RECOMMEND:"iglu:com.29cm/impression_item_recommend/jsonschema/8-0-0",CLICK_TOGGLE_CART:"iglu:com.29cm/click_toggle_cart/jsonschema/1-0-0",VIEW_BOTTOMSHEET:"iglu:com.29cm/view_bottomsheet/jsonschema/4-0-0",CLICK_DOWNLOAD_COUPON:"iglu:com.29cm/click_download_coupon/jsonschema/1-0-2",CLICK_BUTTON_CART:"iglu:com.29cm/click_button_cart/jsonschema/1-0-0",CLICK_BUTTON_CS_QNA_MANTOMAN_MAIN:"iglu:com.29cm/click_button_cs_qna_mantoman_main/jsonschema/1-0-0",VISIT_CS_QNA_MANTOMAN_MAIN:"iglu:com.29cm/visit_cs_qna_mantoman_main/jsonschema/1-0-0",CLICK_BUTTON:"iglu:com.29cm/click_button/jsonschema/1-0-1",VIEW_PAGE:"iglu:com.29cm/view_page/jsonschema/1-0-0"}},72266:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});let i={symbol:"",precision:0}},52340:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var i=n(84400),s=n(61027),o=n(98321);let l=()=>{let{toast:e,setBottomMargin:t}=(0,s.E)();return(0,i.useEffect)(()=>{t(0)},[]),{show:n=>{let{disableAutoClose:i=!1,transitionDelay:s=0,bottomMargin:l=0,...a}=n;t(l),setTimeout(()=>{e.show(a)},s),i||setTimeout(e.hide,(0,o._)(s))},hide:()=>{e.hide()}}}},57033:function(e,t,n){"use strict";n.d(t,{Hy:function(){return i},O1:function(){return s}});let i=e=>{var t,n,i,s;let a=null===(t=e.data)||void 0===t?void 0:t.errors;return o(null==a?void 0:a.detail)&&"string"==typeof(null==a?void 0:null===(i=a.detail)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:n.message_code)?a.detail[0].message_code:l(null==a?void 0:a.detail)&&"string"==typeof(null==a?void 0:null===(s=a.detail)||void 0===s?void 0:s.message_code)?a.detail.message_code:null},s=(e,t)=>{var n,i,s,a,r,c,u,d,m,p,_,h,f,g,C,v,x,N,E,T,b;if("string"==typeof e.data)return e.data||t||e.message;let I=null===(n=e.data)||void 0===n?void 0:n.errors;return o(null==I?void 0:I.detail)&&"string"==typeof(null==I?void 0:null===(i=I.detail)||void 0===i?void 0:i[0])?I.detail[0]||t||e.message:o(null==I?void 0:I.detail)&&"string"==typeof(null==I?void 0:null===(a=I.detail)||void 0===a?void 0:null===(s=a[0])||void 0===s?void 0:s.warning)?I.detail[0].warning||t||e.message:o(null==I?void 0:I.detail)&&"string"==typeof(null==I?void 0:null===(u=I.detail)||void 0===u?void 0:null===(c=u[0])||void 0===c?void 0:null===(r=c.warning)||void 0===r?void 0:r[0])?I.detail[0].warning[0]||t||e.message:o(null==I?void 0:I.detail)&&"string"==typeof(null==I?void 0:null===(m=I.detail)||void 0===m?void 0:null===(d=m[0])||void 0===d?void 0:d.message)?I.detail[0].message||t||e.message:o(null==I?void 0:I.detail)&&"string"==typeof(null==I?void 0:null===(h=I.detail)||void 0===h?void 0:null===(_=h[0])||void 0===_?void 0:null===(p=_.message)||void 0===p?void 0:p[0])?I.detail[0].message[0]||t||e.message:l(null==I?void 0:I.detail)&&"string"==typeof(null==I?void 0:null===(f=I.detail)||void 0===f?void 0:f.warning)?I.detail.warning||t||e.message:l(null==I?void 0:I.detail)&&"string"==typeof(null==I?void 0:null===(C=I.detail)||void 0===C?void 0:null===(g=C.warning)||void 0===g?void 0:g[0])?I.detail.warning[0]||t||e.message:l(null==I?void 0:I.detail)&&"string"==typeof(null==I?void 0:null===(v=I.detail)||void 0===v?void 0:v.message)?I.detail.message||t||e.message:l(null==I?void 0:I.detail)&&"string"==typeof(null==I?void 0:null===(N=I.detail)||void 0===N?void 0:null===(x=N.message)||void 0===x?void 0:x[0])?I.detail.message[0]||t||e.message:(null!==(b=null!==(T=null==I?void 0:I.message)&&void 0!==T?T:null===(E=e.data)||void 0===E?void 0:E.message)&&void 0!==b?b:t)||e.message},o=e=>Array.isArray(e),l=e=>"object"==typeof e&&!("length"in e)},2701:function(e,t,n){"use strict";var i,s,o,l,a,r,c,u;n.d(t,{$i:function(){return i},Lb:function(){return l},ut:function(){return s}}),(a=i||(i={})).PRODUCT="PRODUCT",a.CART="CART",(r=s||(s={})).ALL="ALL",r.USER_GRADE="USER_GRADE",(c=o||(o={})).WEB="WEB",c.APP="APP",c.WEB_AND_APP="WEB_AND_APP",(u=l||(l={})).FIXED_RATE="FIXED_RATE",u.FIXED_PRICE="FIXED_PRICE"},25932:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var i=n(44650);class s extends i.tr{async issueCoupon(e){let{couponCode:t}=e,{data:n}=await this.post("/api/v4/coupons/download:code",{couponCode:t});return n}async deleteCoupon(e){if(!e)throw Error("couponIssueId 값은 필수입니다.");let{data:t}=await this.post("/api/v5/coupons/issued/".concat(e,":delete"));return t}constructor(){super(),this.usePromotion()}}let o=s.shared()},45276:function(e,t,n){"use strict";n.d(t,{C:function(){return v}});var i=n(67115),s=n(6723),o=n(79132),l=n(92490),a=n(38290),r=n(75304),c=n(52340),u=n(8422),d=n(25932),m=n(53348);let p=()=>{let e=(0,u.useQueryClient)(),{mutateAsync:t,isLoading:n,isError:i}=(0,u.useMutation)(e=>d.t.issueCoupon(e),{onSuccess:()=>{e.invalidateQueries([m.$])}});return{mutateAsync:t,isLoading:n,isError:i}},_=()=>{let{register:e,setValue:t}=(0,s.Gc)();return{register:e,handleChange:e=>{t("couponCode",e.target.value)}}},h=()=>{let e=(0,c.p)(),{show:t}=f(),{handleSubmit:n}=(0,s.Gc)(),{mutateAsync:i,isLoading:o}=p();return{handleSubmit:n(async n=>{if(!o){if(!n.couponCode||!n.couponCode.trim()){t({title:"등록 실패",description:"쿠폰코드를 입력해주세요."});return}try{let t=await i(n);if("SUCCESS"!==t.result)throw Error(t.message||"알 수 없는 에러가 발생했습니다.");e.show({content:"쿠폰이 발급되었습니다"})}catch(e){e instanceof Error&&t({title:"등록 실패",description:e.message});return}}})}},f=()=>{let{show:e,close:t}=(0,r.i)();return{show:n=>{let{title:i,description:s}=n;e({id:"coupon_issue_alert_dialog",title:i,description:s,primaryAction:{label:"확인",onClick:()=>{t()}},secondaryAction:{label:"취소",onClick:()=>{t()}}})},close:t}},g=()=>{let{isMobile:e}=(0,l.uw)(),{register:t,handleChange:n}=_(),{handleSubmit:s}=h();return(0,i.jsxs)("form",{className:"mx-[-20px] flex gap-8 bg-low px-20 py-14 md:mx-0 md:gap-6  md:bg-transparent md:bg-none md:px-0 md:py-0",onSubmit:s,children:[(0,i.jsx)(a.Wz,{className:"!h-36 border !border-line bg-default !text-s md:!w-[178px]",placeholder:"쿠폰코드를 입력해주세요",...t,onChange:n}),(0,i.jsx)(o.z,{priority:e?"primary":"secondary",size:"small",onClick:s,label:e?"등록":"쿠폰등록"})]})},C=()=>(0,s.cI)({defaultValues:{couponCode:""}}),v=()=>{let e=C();return(0,i.jsx)(s.RV,{...e,children:(0,i.jsx)(g,{})})}},67473:function(e,t,n){"use strict";n.d(t,{F:function(){return Y}});var i=n(67115),s=n(24905),o=n(35149),l=n(73857),a=n(25698),r=n.n(a),c=n(35474),u=n(36450),d=n(75985),m=n(53251),p=n(5884),_=n(9744),h=n.n(_),f=n(72266),g=n(2701);let C=e=>{let{couponType:t,isDuplicateAllowed:n,discountType:s,discountValue:o,couponName:l,count:a}=e,r=v(t),c=x(s,o),u=N(a);return(0,i.jsxs)("div",{className:"flex max-w-full flex-col items-start gap-8 text-l-bold text-primary",children:[(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)(p.C,{priority:"secondary",className:"bg-[rgba(93,93,93,0.1)]",children:r}),n&&(0,i.jsx)(p.C,{priority:"accent",children:"중복 사용 가능"})]}),(0,i.jsxs)("div",{className:"flex max-w-full flex-col gap-2",children:[(0,i.jsx)("span",{className:"text-title-xs-bold text-accent",children:c}),(0,i.jsxs)("span",{className:"flex gap-6",children:[(0,i.jsx)("span",{className:"block h-20 overflow-hidden text-ellipsis whitespace-nowrap",children:l})," ",(0,i.jsx)("span",{className:"whitespace-nowrap",children:u})]})]})]})},v=e=>{switch(e){case g.$i.PRODUCT:return"상품 쿠폰";case g.$i.CART:return"장바구니 쿠폰";default:return"쿠폰"}},x=(e,t)=>{if(!t)return"";switch(e){case g.Lb.FIXED_RATE:return"".concat(t,"%");case g.Lb.FIXED_PRICE:return"".concat(h()(t,f.G).format(),"원");default:return""}},N=e=>e&&e>1?"".concat(e,"장"):"",E=e=>{let{minPayAmount:t,maxDiscountAmount:n}=e;return(0,i.jsxs)("div",{className:"mt-auto flex items-center gap-6 text-s text-secondary",children:[t?(0,i.jsxs)(i.Fragment,{children:["최소 주문 ",h()(t,f.G).format(),"원"]}):null,t&&n?(0,i.jsx)("span",{className:"h-[11px] w-[1px] bg-[rgba(0,0,0,0.13)]"}):null,n?"최대 할인 ".concat(h()(n,f.G).format(),"원"):null]})};var T=n(2809),b=n(41132),I=n(69247),j=n(38382),y=n(69564),A=n(37132),w=n(84400);let D="yyyy.MM.dd HH:mm",R=(e,t)=>(0,w.useMemo)(()=>{let n=new Date,i=(0,T.D)(e),s=t?(0,T.D)(t):null,o=(0,b.WU)(i,D),l=s?(0,b.WU)(s,D):"";if((0,I.R)(n,i))return{highlightText:"곧 사용 가능",highlightClass:"text-secondary",message:"".concat(o," ~ ").concat(l)};if(s){var a;let e=(0,j.w)(s,n);if(a=(0,y.L)(s,Date.now()),+(0,A.b)(s)==+(0,A.b)(a))return{highlightText:"오늘 만료",highlightClass:"text-accent",message:"".concat(l,"까지")};if(e<=7&&e>0)return{highlightText:"".concat(e,"일 남음"),highlightClass:"text-accent",message:"".concat(l,"까지")};if(e>7)return{message:"".concat(l,"까지")}}return{message:"".concat(o," ~ ").concat(l)}},[e,t]),O=e=>{let{couponUseStartAt:t,couponUseEndAt:n}=e,{message:s,highlightClass:o,highlightText:l}=R(t,n);return(0,i.jsxs)("div",{className:"mt-4 flex",children:[l?(0,i.jsx)("span",{className:"text-s-bold mr-6 ".concat(o),children:l}):null,(0,i.jsx)("span",{className:"text-s text-secondary",children:s})]})};var S=n(75304),M=n(82373),L=n(57033),U=n(8422),k=n(25932),P=n(53348);let V=()=>{let e=(0,U.useQueryClient)(),{mutateAsync:t,isLoading:n,isError:i}=(0,U.useMutation)(e=>k.t.deleteCoupon(e),{onSuccess:()=>{e.invalidateQueries([P.$])}});return{mutateAsync:t,isLoading:n,isError:i}},G=e=>{let t=(0,S.i)(),n=(0,M.Rh)(),{isLoading:i,mutateAsync:s}=V();return{show:o=>{e&&t.show({id:"COUPON_DELETE",title:"",description:"삭제 시 되돌릴 수 없어요.\n삭제할까요?",primaryAction:{label:"삭제",onClick:async()=>{if(!i)try{await s(e),null==o||o()}catch(t){let e=(0,L.O1)(t);n.show({content:e})}}},secondaryAction:{label:"취소",onClick:()=>{t.close()}}})}}},K=e=>{let{show:t}=G(e);return{shouldRenderButton:null!==e,handleDeleteClick:e=>t(e)}},F=e=>{let{id:t}=e,{shouldRenderButton:n,handleDeleteClick:s}=K(t);return n?(0,i.jsx)("button",{className:"absolute -left-38 top-0 z-content-1 flex h-18  w-18   items-center justify-center rounded-full bg-gray-300",onClick:()=>s(),children:(0,i.jsx)(o.nSA,{size:9,className:"text-on-white"})}):null},Y=e=>{let{coupon:t,position:n,className:a}=e,{trackSnowplow:p}=(0,u.z)(),_=(0,d.$)(e=>e.isCouponEditMode),h=(0,l.e5)(m.Z.workspace.shop,"coupon/".concat(t.couponId,"/products?sort=RECOMMEND&defaultSort=RECOMMEND&sortOrder=DESC&page=1&previous_page_name=my_coupon"));return(0,i.jsxs)("div",{className:(0,s.cn)("relative items-center justify-start gap-8 rounded-4 bg-[radial-gradient(8px_at_left_center,rgba(0,0,0,0)_99%,rgba(244,244,244,1))] py-16 pl-24 pr-16   md:max-w-[625px]",a),children:[_&&(0,i.jsx)(F,{id:t.id}),(0,i.jsxs)(r(),{href:h,onClick:()=>{let e={page_name:"my_coupon",button_id:"coupon_apply_items",button_name:"쿠폰 적용 상품",section_name:"MyCouponSection",position:n,coupon_no:t.couponId,coupon_name:t.couponName,level:t.userLevel};p(c.d.CLICK_BUTTON,e)},children:[(0,i.jsxs)("div",{className:"absolute right-16 top-16 flex items-center justify-center",children:[(0,i.jsx)("span",{className:"mr-2 text-s-bold text-secondary",children:"적용 상품"}),(0,i.jsx)(o.mXs,{size:12,className:"text-secondary"})]}),(0,i.jsxs)("div",{className:"flex h-120 flex-1 flex-col items-start",children:[(0,i.jsx)(C,{couponType:t.couponType,isDuplicateAllowed:t.isDuplicateAllowed,discountType:t.discountType,discountValue:t.discountValue,couponName:t.couponName,count:t.count}),(0,i.jsx)(E,{minPayAmount:t.minPayAmount,maxDiscountAmount:t.maxDiscountAmount}),(0,i.jsx)(O,{couponUseStartAt:t.couponUseStartAt,couponUseEndAt:t.couponUseEndAt})]})]})]})}},21421:function(e,t,n){"use strict";n.d(t,{F:function(){return s},l:function(){return o}});var i=n(13251);let s={[i.Y.ALL]:"전체",[i.Y.CART]:"장바구니",[i.Y.PRODUCT]:"상품",[i.Y.USER_GRADE]:"멤버십"},o=Object.fromEntries(Object.entries(s).map(e=>{let[t,n]=e;return[t,"".concat(n," 쿠폰")]}))},90903:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var i=n(2701),s=n(53348),o=n(75985),l=n(13251);let a=()=>{let e=r(),{isLoading:t,isError:n,statusCode:o,data:l}=(0,s.H)(e),{resultList:a,totalCount:c,cartCouponCount:u,itemCouponCount:d,gradeCouponCount:m,userLevel:p}=l||{resultList:[],totalCount:0,cartCouponCount:0,itemCouponCount:0,gradeCouponCount:0};return{isLoading:t,isError:n,statusCode:o,data:a.map(e=>e.issueTarget!==i.ut.USER_GRADE?e:{...e,userLevel:p}),totalCount:c,cartCouponCount:u,itemCouponCount:d,gradeCouponCount:m}},r=()=>{let e=(0,o.$)(e=>e.tab);return e===l.Y.ALL?{}:e===l.Y.USER_GRADE?{couponIssueTarget:e}:{couponType:e}}},53348:function(e,t,n){"use strict";n.d(t,{$:function(){return a},H:function(){return r}});var i=n(8422),s=n(44650);class o extends s.tr{async getCouponList(e){let{data:t}=await this.get("/api/v5/coupons/issued/my-coupon",e);return t.data}constructor(){super(),this.usePromotion()}}let l=o.shared(),a="@order/coupon-list",r=e=>{var t;let{data:n,isLoading:s,isError:o,error:r}=(0,i.useQuery)([a,e],()=>l.getCouponList(e));return{statusCode:o?null!==(t=null==r?void 0:r.status)&&void 0!==t?t:404:n?200:0,data:n,isLoading:s,isError:o}}},75985:function(e,t,n){"use strict";n.d(t,{$:function(){return o},E:function(){return s}});var i=n(31752);let s={tab:n(13251).Y.ALL,isCouponIssueFormShow:!1,isCouponEditMode:!1},o=(0,i.Z)(e=>({...s,dispatchInitialize:()=>e(s),dispatchTab:t=>e({tab:t}),dispatchCouponIssueFormShow:t=>e({isCouponIssueFormShow:t}),dispatchCouponEditMode:t=>e({isCouponEditMode:t})}))},13251:function(e,t,n){"use strict";n.d(t,{Y:function(){return s}});var i=n(2701);let s={ALL:"ALL",PRODUCT:i.$i.PRODUCT,CART:i.$i.CART,USER_GRADE:i.ut.USER_GRADE}},55173:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return k},default:function(){return P}});var i=n(67115);n(54922);var s=n(92490),o=n(45916),l=n(25176),a=n.n(l),r=n(84400),c=n(1821),u=n(35474),d=n(36450),m=n(90903);let p=()=>{let{trackSnowplow:e}=(0,d.z)(),{isLoading:t,totalCount:n}=(0,m.r)(),i=(0,r.useRef)(!1);(0,r.useEffect)(()=>{t||i.current||(i.current=!0,e(u.d.VISIT_COUPON,{total_quantity:n,current_screen:"coupon"}))},[t])};var _=n(86047),h=n(35762),f=n(58488),g=n(53348);let C=()=>{var e,t,n,i;let{data:s}=(0,g.H)();return{totalCount:null!==(e=null==s?void 0:s.totalCount)&&void 0!==e?e:0,cartCouponCount:null!==(t=null==s?void 0:s.cartCouponCount)&&void 0!==t?t:0,itemCouponCount:null!==(n=null==s?void 0:s.itemCouponCount)&&void 0!==n?n:0,gradeCouponCount:null!==(i=null==s?void 0:s.gradeCouponCount)&&void 0!==i?i:0}};var v=n(21421),x=n(75985),N=n(13251);let E=()=>{let[e,t]=(0,x.$)(e=>[e.tab,e.dispatchTab],h.Z),n=C(),{isEnabled:s}=(0,f.l)(),o=e=>{t(e)};return(0,i.jsxs)("div",{className:"flex items-center gap-24",role:"tablist",children:[(0,i.jsxs)(b,{isActive:e===N.Y.ALL,onClick:()=>o(N.Y.ALL),children:[v.l[N.Y.ALL],"(",null==n?void 0:n.totalCount,")"]}),s&&(0,i.jsxs)(b,{isActive:e===N.Y.USER_GRADE,onClick:()=>o(N.Y.USER_GRADE),children:[v.l[N.Y.USER_GRADE],"(",null==n?void 0:n.gradeCouponCount,")"]}),(0,i.jsxs)(b,{isActive:e===N.Y.CART,onClick:()=>o(N.Y.CART),children:[v.l[N.Y.CART],"(",null==n?void 0:n.cartCouponCount,")"]}),(0,i.jsxs)(b,{isActive:e===N.Y.PRODUCT,onClick:()=>o(N.Y.PRODUCT),children:[v.l[N.Y.PRODUCT],"(",null==n?void 0:n.itemCouponCount,")"]})]})},T=(0,_.tv)({base:"\n    whitespace-nowrap\n    text-title-s-bold\n  ",variants:{active:{true:"text-primary",false:"text-tertiary"}}}),b=e=>{let{children:t,isActive:n,onClick:s}=e;return(0,i.jsx)("button",{className:T({active:n}),type:"button",role:"tab","aria-selected":n,onClick:s,children:t})};var I=n(38290),j=n(67473);let y=e=>{let{data:t}=e;return(0,i.jsx)("div",{className:"flex flex-wrap gap-10 md:gap-20",children:t.map((e,t)=>{let n=e.id||e.couponExtraId;return(0,i.jsx)(j.F,{className:"w-[calc(50%-10px)]",coupon:e,position:t+1},n)})})},A=()=>{let{isLoading:e,data:t,totalCount:n}=(0,m.r)();return e?(0,i.jsx)("div",{className:"relative h-screen py-200",children:(0,i.jsx)(I.ko,{})}):n?(0,i.jsx)("section",{children:(0,i.jsx)(y,{data:t})}):(0,i.jsx)("span",{className:"mb-230 mt-200 flex justify-center text-xxl text-secondary",children:"발급 받은 쿠폰이 없습니다."})};var w=n(45276),D=()=>(0,i.jsxs)("div",{className:"flex flex-col gap-30",children:[(0,i.jsxs)("section",{className:"flex items-center justify-between border-b-4 border-divider-strong py-16",children:[(0,i.jsx)(E,{}),(0,i.jsx)(w.C,{})]}),(0,i.jsx)(A,{})]});let R=["상품 쿠폰은 적용 대상 상품의 판매가에 대해 할인이 적용됩니다. 상품 (옵션) 1개당 1개의 상품쿠폰을 사용할 수 있습니다.","장바구니 쿠폰은 적용 대상 상품의 총 주문 금액에 대해 할인이 적용됩니다. 주문당 1개의 장바구니쿠폰을 사용할 수 있습니다."],O=["쿠폰은 배송비를 제외한 주문 상품 금액 기준으로 적용됩니다.","사용기간이 지난 쿠폰은 자동으로 소멸되며, 재발행 되지 않습니다.","할인 쿠폰별 적용 대상 상품이 다를 수 있으며, 적용 대상 상품의 범위는 브랜드 혹은 당사 사정에 따라 사전고지 없이 변동될 수 있습니다.","할인 쿠폰별 사용 기간은 브랜드 혹은 당사 사정에 따라 사전고지 없이 변동될 수 있습니다.","‘중복 사용 가능‘한 상품 쿠폰은 장바구니 쿠폰과 중복으로 사용할 수 있습니다.","할인쿠폰의 할인금액이 상품의 판매가 또는 총 주문 금액을 초과할 경우 사용 불가능합니다."],S=["쿠폰 사용기간 종료 후 고객 변심으로 인한 취소/반품 시 쿠폰은 재발급되지 않습니다.","주문 부분 취소 및 부분 반품 시 쿠폰 할인이 적용된 상품이 남아 있을 경우 쿠폰은 재발급되지 않습니다.","할인 쿠폰별 적용 대상 상품이 다를 수 있으며, 적용 대상 상품의 범위는 브랜드 혹은 당사 사정에 따라 사전고지 없이 변동될 수 있습니다.","할인 쿠폰별 사용 기간은 브랜드 혹은 당사 사정에 따라 사전고지 없이 변동될 수 있습니다.","주문 부분 취소 및 부분 반품으로 인해 최소 주문 금액 조건 미달 시, 쿠폰 할인 금액을 제외한 실 결제 금액이 환불처리됩니다."],M=e=>{let{children:t}=e;return(0,i.jsx)("li",{className:"break-keep-all relative mt-6 flex items-center pl-10 text-xs text-secondary before:absolute before:left-0 before:top-[5px] before:inline-block before:h-[3px] before:w-[3px] before:rounded-full before:bg-gray-600 before:content-['']",children:t})},L=()=>(0,i.jsxs)("div",{className:"mx-[-20px] bg-low px-20 py-30 md:mx-0",children:[(0,i.jsx)("span",{className:"inline-block text-xs-bold text-secondary",children:"상품 쿠폰 / 장바구니 쿠폰"}),(0,i.jsx)("ul",{className:"mt-12",children:R.map(e=>(0,i.jsx)(M,{children:e},e))}),(0,i.jsx)("span",{className:"mt-30 inline-block text-xs-bold text-secondary",children:"쿠폰 사용 안내"}),(0,i.jsx)("ul",{className:"mt-12",children:O.map(e=>(0,i.jsx)(M,{children:e},e))}),(0,i.jsx)("span",{className:"mt-30 inline-block text-xs-bold text-secondary",children:"쿠폰 교환/반품/취소 안내"}),(0,i.jsx)("ul",{className:"mt-12",children:S.map(e=>(0,i.jsx)(M,{children:e},e))})]}),U=a()(()=>n.e(6545).then(n.bind(n,86545)),{loadableGenerated:{webpack:()=>[86545]},ssr:!1});var k=!0,P=()=>{let{isMobile:e,isWebview:t}=(0,s.uw)(),{setWebviewTitle:n}=(0,o.KG)();return p(),(0,r.useEffect)(()=>{t&&n("쿠폰")},[t]),(0,i.jsx)(c.O,{title:"쿠폰",hideHeader:t,className:"overflow-hidden",children:(0,i.jsxs)("div",{className:"mb-[-70px] flex flex-col gap-60 md:mb-0 md:gap-40",children:[e?(0,i.jsx)(U,{}):(0,i.jsx)(D,{}),(0,i.jsx)(L,{})]})})}},54922:function(){},2809:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var i=n(85542);function s(e,t){var n;let s,p;let _=null!==(n=null==t?void 0:t.additionalDigits)&&void 0!==n?n:2,h=function(e){let t;let n={},i=e.split(o.dateTimeDelimiter);if(i.length>2)return n;if(/:/.test(i[0])?t=i[0]:(n.date=i[0],t=i[1],o.timeZoneDelimiter.test(n.date)&&(n.date=e.split(o.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){let e=o.timezone.exec(t);e?(n.time=t.replace(e[1],""),n.timezone=e[1]):n.time=t}return n}(e);if(h.date){let e=function(e,t){let n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=e.match(n);if(!i)return{year:NaN,restDateString:""};let s=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return{year:null===o?s:100*o,restDateString:e.slice((i[1]||i[2]).length)}}(h.date,_);s=function(e,t){if(null===t)return new Date(NaN);let n=e.match(l);if(!n)return new Date(NaN);let i=!!n[4],s=c(n[1]),o=c(n[2])-1,a=c(n[3]),r=c(n[4]),u=c(n[5])-1;if(i)return r>=1&&r<=53&&u>=0&&u<=6?function(e,t,n){let i=new Date(0);i.setUTCFullYear(e,0,4);let s=i.getUTCDay()||7;return i.setUTCDate(i.getUTCDate()+((t-1)*7+n+1-s)),i}(t,r,u):new Date(NaN);{let e=new Date(0);return o>=0&&o<=11&&a>=1&&a<=(d[o]||(m(t)?29:28))&&s>=1&&s<=(m(t)?366:365)?(e.setUTCFullYear(t,o,Math.max(s,a)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);let f=s.getTime(),g=0;if(h.time&&isNaN(g=function(e){let t=e.match(a);if(!t)return NaN;let n=u(t[1]),s=u(t[2]),o=u(t[3]);return(24===n?0===s&&0===o:o>=0&&o<60&&s>=0&&s<60&&n>=0&&n<25)?n*i.vh+s*i.yJ+1e3*o:NaN}(h.time)))return new Date(NaN);if(h.timezone){if(isNaN(p=function(e){if("Z"===e)return 0;let t=e.match(r);if(!t)return 0;let n="+"===t[1]?-1:1,s=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return o>=0&&o<=59?n*(s*i.vh+o*i.yJ):NaN}(h.timezone)))return new Date(NaN)}else{let e=new Date(f+g),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return new Date(f+g+p)}let o={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,a=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,r=/^([+-])(\d{2})(?::?(\d{2}))?$/;function c(e){return e?parseInt(e):1}function u(e){return e&&parseFloat(e.replace(",","."))||0}let d=[31,null,31,30,31,30,31,31,30,31,30,31];function m(e){return e%400==0||e%4==0&&e%100!=0}}},function(e){e.O(0,[4673,2663,6481,604,1821,1645,2888,9774,179],function(){return e(e.s=99786)}),_N_E=e.O()}]);